(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{34:function(e,t,c){},47:function(e,t,c){},66:function(e,t,c){},69:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c(1),s=c.n(r),a=c(21),o=c.n(a),i=(c(47),c(6)),d=c(12),l=c(23),j=c(3),h=c(70),u=c(22),b=(c(48),Object(r.createContext)());function O(e){var t="/api/user",c=localStorage.getItem("user"),s=Object(r.useState)(null!==c),a=Object(j.a)(s,2),o=a[0],i=a[1],d=Object(r.useState)(!1),O=Object(j.a)(d,2),f=O[0],m=O[1];Object(r.useEffect)((function(){u.a.auth().onAuthStateChanged((function(e){m(!0)}))}),[]);var x=function(){return u.a.auth().currentUser.getIdToken()},p=function(e){return x().then((function(c){return fetch("".concat(t,"/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){return e.json()}))}))},g=function(e){return x().then((function(c){return fetch(t,{method:"POST",headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}))}))};return Object(n.jsx)(b.Provider,{value:{isLoggedIn:o,login:function(e,t){return u.a.auth().signInWithEmailAndPassword(e,t).then((function(e){return p(e.user.uid)})).then((function(e){return e.status?(i(!1),null):(localStorage.setItem("user",JSON.stringify(e)),i(!0),e)}))},logout:function(){return u.a.auth().signOut().then((function(){localStorage.clear(),i(!1)}))},register:function(e,t){return u.a.auth().createUserWithEmailAndPassword(e.email,t).then((function(t){return g(Object(l.a)(Object(l.a)({},e),{},{firebaseUserId:t.user.uid}))})).then((function(e){return localStorage.setItem("user",JSON.stringify(e)),i(!0),e}))},getToken:x,getCurrentUser:function(){var e=localStorage.getItem("user");return e?JSON.parse(e):null}},children:f?e.children:Object(n.jsx)(h.a,{className:"app-spinner dark"})})}var f=c(13),m=c(71),x=c(72),p=(c(34),function(){var e=Object(r.useContext)(b).login,t=Object(r.useState)(!1),c=Object(j.a)(t,2),s=c[0],a=c[1],o=Object(r.useState)(""),l=Object(j.a)(o,2),h=l[0],u=l[1],O=Object(r.useState)(""),p=Object(j.a)(O,2),g=p[0],v=p[1],I=Object(d.g)();return Object(n.jsx)("div",{className:"login-form",children:Object(n.jsxs)("form",{onSubmit:function(t){t.preventDefault(),a(!0),e(h,g).then((function(e){null!==e?(a(!1),f.b.info("Welcome back, ".concat(e.name)),I.push("/")):(a(!1),f.b.error("Your account has been deactivated"))})).catch((function(e){a(!1),f.b.error("Invalid email or password")}))},children:[Object(n.jsx)("div",{className:"avatar bg-primary",children:Object(n.jsx)("img",{src:"/disc-logo.png",alt:"Avatar"})}),Object(n.jsx)("h2",{className:"text-center",children:"User Login"}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)(m.a,{onChange:function(e){return u(e.target.value)},type:"email",className:"form-control",name:"email",placeholder:"Email",required:"required"})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)(m.a,{onChange:function(e){return v(e.target.value)},type:"password",className:"form-control",name:"password",placeholder:"Password",required:"required"})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)(x.a,{type:"submit",block:!0,color:"danger",disabled:s,children:"Sign in"})}),Object(n.jsxs)("div",{className:"text-center mt-5",style:{fontSize:"16px"},children:["Don't have an account?",Object(n.jsx)("div",{children:Object(n.jsx)(i.b,{to:"/register",children:"Sign up here"})})]})]})})}),g=function(){var e=Object(r.useContext)(b).register,t=Object(r.useState)(!1),c=Object(j.a)(t,2),s=c[0],a=c[1],o=Object(r.useState)(""),l=Object(j.a)(o,2),h=l[0],u=l[1],O=Object(r.useState)(""),p=Object(j.a)(O,2),g=p[0],v=p[1],I=Object(r.useState)(""),N=Object(j.a)(I,2),S=N[0],y=N[1],w=Object(r.useState)(""),k=Object(j.a)(w,2),T=k[0],E=k[1],C=Object(d.g)();return Object(n.jsx)("div",{className:"login-form",children:Object(n.jsxs)("form",{onSubmit:function(t){(t.preventDefault(),S===T)?(a(!0),e({name:h,email:g},S).then((function(e){a(!1),f.b.info("Welcome ".concat(e.name)),C.push("/")})).catch((function(e){a(!1),f.b.error("Invalid email")}))):f.b.error("Passwords do not match")},children:[Object(n.jsx)("div",{className:"avatar bg-primary",children:Object(n.jsx)("img",{src:"/disc-logo.png",alt:"Avatar"})}),Object(n.jsx)("h2",{className:"text-center",children:"User Register"}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)(m.a,{onChange:function(e){return u(e.target.value)},type:"text",className:"form-control",name:"name",placeholder:"Name",required:"required"})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)(m.a,{onChange:function(e){return v(e.target.value)},type:"email",className:"form-control",name:"email",placeholder:"Email",required:"required"})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)(m.a,{onChange:function(e){return y(e.target.value)},type:"password",className:"form-control",name:"password",placeholder:"Password",required:"required"})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)(m.a,{onChange:function(e){return E(e.target.value)},type:"password",className:"form-control",name:"confirmPassword",placeholder:"Confirm Password",required:"required"})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)(x.a,{type:"submit",block:!0,color:"danger",disabled:s,children:"Sign Up"})}),Object(n.jsxs)("div",{className:"text-center large mt-5",style:{fontSize:"16px"},children:["Already have an account?",Object(n.jsx)("div",{children:Object(n.jsx)(i.b,{to:"/login",children:"Log in here"})})]})]})})},v=c(25),I=c(41),N=c.n(I),S=function(e){var t=e.scoreBreakdown,c=Object(r.useRef)(null),s=Object(d.i)(),a=["Eagle -","Birdie","Par","Bogey","Dbl Bogey","3+ Bogey"];return Object(r.useEffect)((function(){c&&c.current&&new N.a(c.current,function(e,t,c){return{type:"horizontalBar",data:{labels:Object(v.a)(e),datasets:[{data:[t.minus,t.birdie,t.par,t.bogey,t.double,t.plus],backgroundColor:["rgba(51, 153, 243, 0.6)","rgba(60, 181, 33, 0.6)","rgba(68, 110, 155, 0.6)","rgba(205, 2, 0, 0.6)","rgba(212, 117, 0, 0.6)","rgba(153, 153, 153, 0.6)"],borderColor:["rgba(51, 153, 243, 1)","rgba(60, 181, 33, 1)","rgba(68, 110, 155, 1)","rgba(205, 2, 0, 1)","rgba(212, 117, 0, 1)","rgba(153, 153, 153, 1)"],borderWidth:1}]},options:{title:{display:!0,text:c.courseId?"Course Scoring Breakdown":c.holeId?"Hole Scoring Breakdown":"All Time Score Breakdown",fontSize:16},maintainAspectRatio:!1,legend:{display:!1},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}}}(a,t,s))}),[c]),Object(n.jsx)("canvas",{ref:c})},y=c(73);var w=function(e){var t,c=e.scorecard,s=e.roundScores,a=e.setRoundScores,o=Object(r.useContext)(b).getToken,d=Object(r.useState)([]),l=Object(j.a)(d,2),h=l[0],u=l[1],O=Object(r.useState)([]),f=Object(j.a)(O,2),m=f[0],x=f[1],p=Object(r.useState)(0),g=Object(j.a)(p,2),I=g[0],N=g[1],S=Object(r.useState)(!1),w=Object(j.a)(S,2),k=w[0],T=w[1];Object(r.useEffect)((function(){o().then((function(e){return fetch("/api/shot/scorecard/".concat(c.id),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){u(e)}))}))}),[]),Object(r.useEffect)((function(){o().then((function(e){return fetch("/api/hole/course/".concat(c.courseId),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){x(e)}))}))}),[]),Object(r.useEffect)((function(){m.length&&h.length&&C()}),[m,h]),Object(r.useEffect)((function(){I&&s&&a([].concat(Object(v.a)(s),[I]))}),[I]);var E,C=function(){var e=0,t=m.every((function(t){var c=h.filter((function(e){return e.holeId===t.id}));if(c.length){var n=0;c.forEach((function(e){4===e.qualityOfShotId&&(n+=1)}));var r=c.length+n-t.par;e+=r}return c.length>0}));T(t),N(e)};return Object(n.jsx)(i.b,{to:h.length>0?"/scorecards/".concat(c.id,"/overview/edit"):"/scorecards/".concat(c.id,"/").concat(null===(t=m[0])||void 0===t?void 0:t.id),className:"card-link",children:Object(n.jsxs)(y.a,{className:"scorecard-card bg-light mobile-card",children:[Object(n.jsx)("h5",{className:"card-header",children:Object(n.jsx)("strong",{children:c.course.name})}),Object(n.jsxs)("div",{className:"col-12 py-3 card-body",children:[Object(n.jsxs)("p",{className:"text-left ml-3",children:[Object(n.jsx)("strong",{children:"Date:"})," ",(E=c.createDateTime,new Intl.DateTimeFormat("en-US",{day:"numeric",month:"short",year:"numeric"}).format(new Date(E)))]}),Object(n.jsxs)("p",{className:"text-left ml-3",children:[Object(n.jsx)("strong",{children:"Conditions:"})," ",c.conditions.label]}),Object(n.jsxs)("p",{className:"text-left ml-3",children:[Object(n.jsx)("strong",{children:"Score:"})," ",I<0?I:0===I?"E":"+".concat(I)," ",!k&&"(Partial)"]})]})]})})};function k(e,t){return e.reduce((function(e,c){return(e[c[t]]=e[c[t]]||[]).push(c),e}),[])}var T=function(){var e=Object(r.useContext)(b).getToken,t=Object(r.useState)([]),c=Object(j.a)(t,2),s=c[0],a=c[1],o=Object(r.useState)([]),i=Object(j.a)(o,2),d=i[0],l=i[1],h=Object(r.useState)([]),u=Object(j.a)(h,2),O=u[0],f=u[1],m=Object(r.useState)(),x=Object(j.a)(m,2),p=x[0],g=x[1],v=Object(r.useState)(),I=Object(j.a)(v,2),N=I[0],y=I[1],T=JSON.parse(localStorage.getItem("user"));return Object(r.useEffect)((function(){e().then((function(e){return fetch("/api/shot/user/".concat(T.id),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){l(e)}))}))}),[]),Object(r.useEffect)((function(){e().then((function(e){return fetch("/api/scorecard/user/".concat(T.id),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){a(e)}))}))}),[]),Object(r.useEffect)((function(){if(d.length){var e=k(d,"holeId").map((function(e){return k(e,"scorecardId")})),t={minus:0,birdie:0,par:0,bogey:0,double:0,plus:0};e.forEach((function(e){e.forEach((function(e){if(e){var c=e[0].hole.par,n=e.filter((function(e){return 4===e.qualityOfShotId})).length;switch(e.length+n-c){case-4:case-3:case-2:t.minus=t.minus+1;break;case-1:t.birdie=t.birdie+1;break;case 0:t.par=t.par+1;break;case 1:t.bogey=t.bogey+1;break;case 2:t.double=t.double+1;break;default:t.plus=t.plus+1}}}))})),g(t)}}),[d]),Object(r.useEffect)((function(){if(O.length){var e=Math.round(O.reduce((function(e,t){return e+t}))/s.length);y(e)}}),[O]),Object(n.jsxs)("div",{className:"m-5",children:[Object(n.jsxs)("h3",{children:["Welcome ",T.name]}),Object(n.jsxs)("div",{className:"row justify-content-center",children:[Object(n.jsxs)("p",{className:"stat",children:["Rounds played: ",s.length]}),Object(n.jsxs)("p",{className:"stat",children:["Avg Score: ",N?N<0?N:0===N?"E":"+".concat(N):"N/A"]})]}),p&&Object(n.jsx)("div",{className:"ml-n5",style:{position:"relative",width:"95vw",height:"18em"},children:Object(n.jsx)(S,{scoreBreakdown:p})}),Object(n.jsx)("hr",{}),Object(n.jsx)("h4",{children:"Recent Rounds"}),Object(n.jsx)("div",{className:"row justify-content-center",children:s.slice(0,3).map((function(e){return Object(n.jsx)("div",{className:"m-4",children:Object(n.jsx)(w,{scorecard:e,roundScores:O,setRoundScores:f})},e.id)}))})]})},E=function(e){var t=e.course,c=Object(r.useContext)(b).getToken,s=Object(r.useState)([]),a=Object(j.a)(s,2),o=a[0],l=a[1],h=Object(d.h)();return Object(r.useEffect)((function(){c().then((function(e){return fetch("/api/scorecard/course/".concat(t.id),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){l(e)}))}))}),[]),Object(n.jsx)(i.b,{to:"".concat(h.pathname,"/").concat(t.id),className:"card-link",children:Object(n.jsxs)(y.a,{className:"course-card bg-light mobile-card",children:[Object(n.jsx)("h5",{className:"card-header",children:Object(n.jsx)("strong",{children:t.name})}),Object(n.jsxs)("div",{className:"col-12 py-3 card-body",children:[Object(n.jsxs)("p",{className:"text-left no wrap ml-3",children:[Object(n.jsx)("strong",{children:"Location:"})," ",t.location]}),Object(n.jsx)("div",{className:"mb-3 description",style:{position:"relative"},children:Object(n.jsxs)("p",{className:"text-left ml-3 line-clamp",children:[Object(n.jsx)("strong",{children:"Decription:"})," ",t.description]})}),Object(n.jsxs)("p",{className:"text-left ml-3",children:[Object(n.jsx)("strong",{children:"Times Played:"})," ",o.length]})]})]})})},C=c(15),A=c(16),B=c(74);function q(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}function z(){var e=Object(r.useState)(q()),t=Object(j.a)(e,2),c=t[0],n=t[1];return Object(r.useEffect)((function(){function e(){n(q())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),c}var D=function(e){var t=e.onSearch,c=Object(r.useContext)(b).getToken,s=Object(r.useState)(""),a=Object(j.a)(s,2),o=a[0],i=a[1],d=z().width,l=JSON.parse(localStorage.getItem("user")).id;return Object(n.jsxs)(B.a,{className:d>576?d<768?"input-group ml-auto mr-3 my-4 w-50":"input-group mt-4 ml-auto mr-3 w-25":"input-group my-4 mx-3",onSubmit:function(e){e.preventDefault(),c().then((function(e){return fetch("/api/course/".concat(l,"/search?q=").concat(o),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){return t(e)}))})),i("")},children:[Object(n.jsx)(m.a,{value:o,className:"border-right-0",placeholder:"Search for course",onChange:function(e){return i(e.target.value.trim().toLowerCase())}}),Object(n.jsx)("span",{className:"input-group-append",children:Object(n.jsx)("div",{className:"input-group-text bg-transparent border-left-0",children:Object(n.jsx)(A.a,{icon:C.e})})})]})},G=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),c=t[0],s=t[1],a=Object(r.useContext)(b).getToken,o=Object(d.h)();return Object(r.useEffect)((function(){a().then((function(e){return fetch("/api/course",{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){s(e)}))}))}),[]),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsxs)("div",{className:"row",children:[o.pathname.includes("scorecards")&&Object(n.jsx)(i.b,{to:"/scorecards",className:"mt-4 ml-5 d-none d-md-flex",children:Object(n.jsx)(A.a,{size:"lg",className:"ml-2 text-secondary cancel",icon:C.a})}),Object(n.jsx)(D,{onSearch:s})]}),Object(n.jsx)("h2",{children:o.pathname.includes("scorecards")?"Choose Course":"Courses"}),Object(n.jsx)("div",{className:"row justify-content-center",children:c.map((function(e){return Object(n.jsx)("div",{className:"m-4",children:Object(n.jsx)(E,{course:e})},e.id)}))})]})})},R=function(e){var t=e.disc,c=Object(r.useContext)(b).getToken,s=Object(r.useState)([]),a=Object(j.a)(s,2),o=a[0],d=a[1];return Object(r.useEffect)((function(){c().then((function(e){return fetch("/api/shot/disc/".concat(t.id),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){d(e)}))}))}),[]),Object(n.jsx)(i.b,{to:"/discs/edit/".concat(t.id),className:"card-link",children:Object(n.jsxs)(y.a,{className:"bg-light mobile-card",children:[Object(n.jsx)("h5",{className:"card-header",children:Object(n.jsx)("strong",{children:t.name})}),Object(n.jsxs)("div",{className:"col-12 py-3 card-body",children:[Object(n.jsxs)("p",{className:"text-left ml-3",children:[Object(n.jsx)("strong",{children:"Weight:"})," ",t.weight,"g"]}),Object(n.jsxs)("p",{className:"text-left ml-3",children:[Object(n.jsx)("strong",{children:"Plastic:"})," ",t.plastic]}),Object(n.jsxs)("p",{className:"text-left ml-3",children:[Object(n.jsx)("strong",{children:"Type:"})," ",t.discType.label]}),Object(n.jsxs)("p",{className:"text-left ml-3",children:[Object(n.jsx)("strong",{children:"Throws recorded:"})," ",o.length]})]})]})})},P=function(e){var t=e.searchTerms,c=e.setSearchTerms,r=z().width;return Object(n.jsxs)(B.a,{className:r>576?r<768?"input-group ml-auto mr-3 my-4 w-50":"input-group mt-4 ml-auto mr-3 w-25":"input-group my-4 mx-3",onSubmit:function(e){return e.preventDefault()},children:[Object(n.jsx)(m.a,{value:t,className:"border-right-0",placeholder:"Filter discs",onChange:function(e){return c(e.target.value)}}),Object(n.jsx)("span",{className:"input-group-append",children:Object(n.jsx)("div",{className:"input-group-text bg-transparent border-left-0",children:Object(n.jsx)(A.a,{icon:C.e})})})]})},F=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),c=t[0],s=t[1],a=Object(r.useState)(""),o=Object(j.a)(a,2),i=o[0],l=o[1],h=Object(r.useState)([]),u=Object(j.a)(h,2),O=u[0],f=u[1],m=Object(r.useContext)(b).getToken,p=z().width,g=Object(d.g)(),v=JSON.parse(localStorage.getItem("user")).id;return Object(r.useEffect)((function(){m().then((function(e){return fetch("/api/disc/".concat(v),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){s(e)}))}))}),[]),Object(r.useEffect)((function(){if(""!==i){var e=c.filter((function(e){return e.name.toLowerCase().includes(i.toLowerCase())}));f(e)}else f(c)}),[i,c]),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)(P,{searchTerms:i,setSearchTerms:l})}),Object(n.jsx)("h2",{children:"Discs"}),Object(n.jsx)(x.a,{type:"button",block:p<992,onClick:function(){return g.push("/discs/add")},color:"danger",children:"Add Disc"}),Object(n.jsx)("div",{className:"row justify-content-center",children:O.map((function(e){return Object(n.jsx)("div",{className:"m-4",children:Object(n.jsx)(R,{disc:e})},e.id)}))})]})})},L=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),c=t[0],s=t[1],a=Object(r.useContext)(b).getToken,o=z().width,i=Object(d.g)(),l=JSON.parse(localStorage.getItem("user")).id;return Object(r.useEffect)((function(){a().then((function(e){return fetch("/api/scorecard/user/".concat(l),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){s(e)}))}))}),[]),Object(n.jsxs)("div",{className:"container mt-5",children:[Object(n.jsx)("h2",{children:"Scorecards"}),Object(n.jsx)(x.a,{type:"button",block:o<992,onClick:function(){return i.push("/scorecards/courses")},color:"danger",children:"New Scorecard"}),Object(n.jsx)("div",{className:"row justify-content-center",children:c.map((function(e){return Object(n.jsx)("div",{className:"m-4",children:Object(n.jsx)(w,{scorecard:e})},e.id)}))})]})},J=c(75),W=c(76),U=c(85),H=c(77),M=c(78),Q=c(79),Y=function(){var e=Object(r.useContext)(b).getToken,t=Object(r.useState)([]),c=Object(j.a)(t,2),s=c[0],a=c[1],o=Object(r.useState)({}),h=Object(j.a)(o,2),u=h[0],O=h[1],p=Object(r.useState)(!1),g=Object(j.a)(p,2),v=g[0],I=g[1],N=Object(r.useState)(!0),S=Object(j.a)(N,2),y=S[0],w=S[1],k=z().width,T=Object(d.i)().discId,E=Object(d.g)(),q=JSON.parse(localStorage.getItem("user")).id;Object(r.useEffect)((function(){T?(e().then((function(e){return fetch("/api/disc/edit/".concat(T),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return 404===e.status&&(f.b.error("That's not your disc"),E.push("/discs")),e.json()})).then((function(e){O(e)}))})),w(!1)):(w(!1),O({name:"",weight:0,plastic:"",discTypeId:0}))}),[T]),Object(r.useEffect)((function(){e().then((function(e){return fetch("/api/discType",{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){a(e)}))}))}),[]);var D=function(e){var t=Object(l.a)({},u);t[e.target.name]=e.target.value,O(t)};return(null===u||void 0===u?void 0:u.id)&&(null===u||void 0===u?void 0:u.userId)!==parseInt(q)?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{children:"This is not your disc to edit"}),Object(n.jsx)(x.a,{children:Object(n.jsx)(i.b,{to:"/discs",children:"Go Back"})})]}):Object(n.jsxs)("div",{className:k<768?"container my-5":"container border border-dark my-5 bg-light",style:{minWidth:"20em",maxWidth:"25em"},children:[Object(n.jsx)(i.b,{to:"/discs",className:"row d-none d-md-flex",disabled:y,children:Object(n.jsx)(A.a,{size:"lg",className:"ml-auto mt-1 mr-2 text-secondary cancel",icon:C.h})}),Object(n.jsxs)(B.a,{className:"p-5 mt-n5",onSubmit:function(t){t.preventDefault(),0===parseInt(u.discTypeId)?f.b.error("Enter a disc type",{position:"top:center"}):(w(!0),T?function(t){e().then((function(e){return fetch("/api/disc/".concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)}).then((function(){return E.push("/discs")}))}))}({id:u.id,name:u.name,weight:u.weight,plastic:u.plastic,IsActive:!0,userId:parseInt(q),discTypeId:u.discTypeId}):function(t){e().then((function(e){return fetch("/api/disc",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)}).then((function(){return E.push("/discs")}))}))}({name:u.name,weight:u.weight,plastic:u.plastic,IsActive:!0,userId:parseInt(q),discTypeId:u.discTypeId}))},children:[T?Object(n.jsx)("h2",{children:"Edit Disc"}):Object(n.jsx)("h2",{children:"Add Disc"}),Object(n.jsxs)(J.a,{row:!0,children:[Object(n.jsx)(W.a,{for:"name",children:"Name"}),Object(n.jsx)(m.a,{type:"text",id:"discName",name:"name",autoFocus:!0,placeholder:"Name",className:"form-control",onChange:D,required:"required",defaultValue:null===u||void 0===u?void 0:u.name})]}),Object(n.jsxs)(J.a,{row:!0,children:[Object(n.jsx)(W.a,{children:"Type"}),Object(n.jsxs)(m.a,{type:"select",name:"discTypeId",onChange:D,required:"required",value:null===u||void 0===u?void 0:u.discTypeId,children:[Object(n.jsx)("option",{value:"0",hidden:!0,children:"Select a type"}),s.map((function(e){return Object(n.jsx)("option",{value:e.id,children:e.label},e.id)}))]})]}),Object(n.jsxs)(J.a,{row:!0,children:[Object(n.jsx)(W.a,{for:"content",children:"Plastic"}),Object(n.jsx)(m.a,{type:"text",name:"plastic",placeholder:"Plastic",onChange:D,defaultValue:null===u||void 0===u?void 0:u.plastic})]}),Object(n.jsxs)(J.a,{row:!0,children:[Object(n.jsx)(W.a,{for:"content",children:"Weight"}),Object(n.jsx)(m.a,{type:"number",name:"weight",onChange:D,defaultValue:null===u||void 0===u?void 0:u.weight})]}),Object(n.jsx)(x.a,{block:k<992,type:"submit",className:"mt-4 mr-3",color:"danger",disabled:y,children:T?"Save":"Submit"}),T&&Object(n.jsx)(x.a,{block:k<992,onClick:function(e){return I(!0)},className:"mt-4",color:"dark",disabled:y,children:"Delete"})]}),Object(n.jsxs)(U.a,{isOpen:v,children:[Object(n.jsxs)(H.a,{children:["Delete ",u.name,"?"]}),Object(n.jsx)(M.a,{children:"Are you sure you want to delete this disc? This action cannot be undone."}),Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(x.a,{outline:!0,onClick:function(e){return I(!1)},children:"No, Cancel"}),Object(n.jsx)(x.a,{color:"dark",onClick:function(){e().then((function(e){return fetch("/api/disc/".concat(u.id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e)}}).then((function(){return E.push("/discs")}))})),I(!1)},children:"Yes, Delete"})]})]})]})},V=function(){var e=Object(r.useState)({}),t=Object(j.a)(e,2),c=t[0],s=t[1],a=Object(r.useState)([]),o=Object(j.a)(a,2),l=o[0],h=o[1],u=Object(r.useState)([]),O=Object(j.a)(u,2),p=O[0],g=O[1],I=Object(r.useState)([]),N=Object(j.a)(I,2),y=N[0],w=N[1],T=Object(r.useState)([]),E=Object(j.a)(T,2),q=E[0],D=E[1],G=Object(r.useState)(0),R=Object(j.a)(G,2),P=R[0],F=R[1],L=Object(r.useState)(),U=Object(j.a)(L,2),H=U[0],M=U[1],Q=Object(r.useState)([]),Y=Object(j.a)(Q,2),V=Y[0],K=Y[1],X=Object(r.useState)(),Z=Object(j.a)(X,2),_=Z[0],$=Z[1],ee=Object(r.useState)(),te=Object(j.a)(ee,2),ce=te[0],ne=te[1],re=Object(r.useState)(),se=Object(j.a)(re,2),ae=se[0],oe=se[1],ie=Object(r.useState)(),de=Object(j.a)(ie,2),le=de[0],je=de[1],he=Object(r.useContext)(b).getToken,ue=z().width,be=Object(d.h)(),Oe=Object(d.i)(),fe=Object(d.g)(),me=JSON.parse(localStorage.getItem("user")).id;Object(r.useEffect)((function(){he().then((function(e){return fetch("/api/course/".concat(Oe.courseId),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){s(e)})).then((function(){return fetch("/api/conditions",{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){D(e)}))}))}))}),[]),Object(r.useEffect)((function(){c.id&&he().then((function(e){return fetch("/api/shot/course/".concat(c.id),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){w(e)})).then((function(){return fetch("/api/scorecard/course/".concat(Oe.courseId),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){g(e)}))})).then((function(){return fetch("/api/hole/course/".concat(Oe.courseId),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){h(e)}))}))}))}),[c]),Object(r.useEffect)((function(){if(l.length){var e=[],t=[];l.forEach((function(c){e.push(c.par),t.push(c.distance)})),M(e.reduce((function(e,t){return e+t}))),$(t.reduce((function(e,t){return e+t})))}}),[l]),Object(r.useEffect)((function(){if(y.length&&l.length&&!V.length){var e=k(y,"scorecardId").map((function(e){return e?xe(e):null})).filter((function(e){return null!==e}));K(e)}}),[y,l]),Object(r.useEffect)((function(){if(V.length&&V.length===p.length){var e=Math.round(V.reduce((function(e,t){return e+t}))/V.length),t=Math.min.apply(Math,Object(v.a)(V));ne(e<0?e:0===e?"E":"+".concat(e)),oe(t<0?t:0===t?"E":"+".concat(t))}}),[V]),Object(r.useEffect)((function(){if(y.length&&ae){var e=k(y,"holeId").map((function(e){return k(e,"scorecardId")})),t={minus:0,birdie:0,par:0,bogey:0,double:0,plus:0};e.forEach((function(e){e.forEach((function(e){if(e){var c=e[0].hole.par,n=e.filter((function(e){return 4===e.qualityOfShotId})).length;switch(e.length+n-c){case-4:case-3:case-2:t.minus=t.minus+1;break;case-1:t.birdie=t.birdie+1;break;case 0:t.par=t.par+1;break;case 1:t.bogey=t.bogey+1;break;case 2:t.double=t.double+1;break;default:t.plus=t.plus+1}}}))})),je(t)}}),[y,ae]);var xe=function(e){var t=0;return l.forEach((function(c){var n=e.filter((function(e){return e.holeId===c.id}));if(n.length){var r=0;n.forEach((function(e){4===e.qualityOfShotId&&(r+=1)}));var s=n.length+r-c.par;t+=s}})),t};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"mt-4 mt-md-0",children:[Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)(i.b,{to:be.pathname.includes("scorecards")?"/scorecards/courses":"/courses",className:"mt-4  d-none d-md-flex",children:Object(n.jsx)(A.a,{size:"lg",className:"ml-2 text-secondary cancel",icon:C.a})})}),Object(n.jsx)("h3",{children:c.name}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("p",{className:"text-left",children:[Object(n.jsx)("strong",{children:"Location:"})," ",c.location]}),Object(n.jsxs)("p",{className:"text-left",children:[Object(n.jsx)("strong",{children:"Description:"})," ",c.description]})]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{className:"row mr-1 justify-content-between",children:[Object(n.jsxs)("p",{className:"text-left ml-3",children:[Object(n.jsx)("strong",{children:"Par:"})," ",H]}),Object(n.jsxs)("p",{className:"text-left ml-3",children:[Object(n.jsx)("strong",{children:"Distance:"})," ",_,"ft"]}),Object(n.jsxs)("p",{className:"text-left ml-3",children:[Object(n.jsx)("strong",{children:"# of holes:"})," ",l.length]}),Object(n.jsxs)("p",{className:"text-left ml-3",children:[Object(n.jsx)("strong",{children:"Times played:"})," ",p.length]}),Object(n.jsxs)("p",{className:"text-left ml-3",children:[Object(n.jsx)("strong",{children:"Avg score:"})," ",p.length?ce:"N/A"]}),Object(n.jsxs)("p",{className:"text-left ml-3",children:[Object(n.jsx)("strong",{children:"Best score:"})," ",p.length?ae:"N/A"]})]}),Object(n.jsx)("hr",{})]}),le&&Object(n.jsx)("div",{className:"mx-0 my-3",style:{position:"relative",width:"95vw",height:"18em"},children:Object(n.jsx)(S,{scoreBreakdown:le})}),be.pathname.includes("scorecards")&&Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)(B.a,{className:ue>576?ue<992?"my-4 mx-auto w-75":"mt-4 mx-auto w-25":"my-4 mx-3",onSubmit:function(e){var t;e.preventDefault(),0===parseInt(P)?f.b.error("Enter conditions",{position:"top:center"}):(t={courseId:Oe.courseId,conditionsId:P,userId:parseInt(me)},he().then((function(e){return fetch("/api/scorecard",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return fe.push("/scorecards/".concat(e.id,"/").concat(l.find((function(e){return 1===e.number})).id))}))})))},children:[Object(n.jsxs)(J.a,{row:!0,children:[Object(n.jsx)(W.a,{children:"Current Conditions"}),Object(n.jsxs)(m.a,{type:"select",name:"conditionsId",onChange:function(e){return F(e.target.value)},required:"required",value:P,children:[Object(n.jsx)("option",{value:"0",hidden:!0,children:"Select conditions"}),q.map((function(e){return Object(n.jsx)("option",{value:e.id,children:e.label},e.id)}))]})]}),Object(n.jsx)(x.a,{color:"danger",type:"submit",block:ue<768,children:"Start Round"})]})})]})})},K=function(){var e=Object(r.useState)(),t=Object(j.a)(e,2),c=t[0],s=t[1],a=Object(r.useState)([]),o=Object(j.a)(a,2),l=o[0],h=o[1],u=Object(r.useState)(),O=Object(j.a)(u,2),f=O[0],m=O[1],p=Object(r.useState)(),g=Object(j.a)(p,2),v=g[0],I=g[1],N=Object(r.useState)(),y=Object(j.a)(N,2),w=y[0],T=y[1],E=Object(r.useState)(),C=Object(j.a)(E,2),A=C[0],B=C[1],q=Object(r.useContext)(b).getToken,D=z().width,G=Object(d.g)(),R=Object(d.i)();Object(r.useEffect)((function(){q().then((function(e){return fetch("/api/hole/".concat(R.holeId),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){s(e)}))}))}),[]),Object(r.useEffect)((function(){c&&q().then((function(e){return fetch("/api/shot/hole/".concat(R.holeId),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){h(e)}))}))}),[c]),Object(r.useEffect)((function(){if(l.length){var e=l.filter((function(e){return 1===e.shotRangeId})),t=e.map((function(e){return e.disc})),c=e.map((function(e){return e.shotType})),n=P(t),r=P(c),s=k(l,"scorecardId"),a={minus:0,birdie:0,par:0,bogey:0,double:0,plus:0};s.forEach((function(e){if(e){var t=e[0].hole.par,c=e.filter((function(e){return 4===e.qualityOfShotId})).length;switch(e.length+c-t){case-4:case-3:case-2:a.minus=a.minus+1;break;case-1:a.birdie=a.birdie+1;break;case 0:a.par=a.par+1;break;case 1:a.bogey=a.bogey+1;break;case 2:a.double=a.double+1;break;default:a.plus=a.plus+1}}})),B(a),m(n),T(r),I(e[0])}}),[l]);var P=function(e){return e.sort((function(t,c){return e.filter((function(e){return e===t})).length-e.filter((function(e){return e===c})).length})).pop()};return(null===c||void 0===c?void 0:c.id)?Object(n.jsxs)("div",{className:"mt-4",children:[Object(n.jsxs)("div",{className:"container",children:[c&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("h3",{children:["Hole ",c.number]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("p",{className:"text-left",children:[Object(n.jsx)("strong",{children:"Par:"})," ",c.par]}),Object(n.jsxs)("p",{className:"text-left",children:[Object(n.jsx)("strong",{children:"Distance:"})," ",c.distance]})]})]}),f&&w&&v&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{children:[Object(n.jsxs)("p",{className:"text-left",children:[Object(n.jsx)("strong",{children:"Most thrown disc:"})," ",f.name]}),Object(n.jsxs)("p",{className:"text-left",children:[Object(n.jsx)("strong",{children:"Most thrown shot:"})," ",w.label]})]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("p",{className:"text-left mx-3",children:[Object(n.jsx)("strong",{children:"Last throw:"})," ",v.disc.name," ",v.shotType.label," ",v.shotSelection.label]}),Object(n.jsxs)("p",{className:"text-left mx-3",children:[Object(n.jsx)("strong",{children:"Result:"})," ",v.qualityOfShot.label]})]}),Object(n.jsx)("hr",{})]})]}),A&&Object(n.jsx)("div",{className:"mx-0",style:{position:"relative",width:"95vw",height:"18em"},children:Object(n.jsx)(S,{scoreBreakdown:A})}),Object(n.jsxs)("div",{className:"container mb-4",children:[Object(n.jsx)(x.a,{color:"danger",className:"mt-3",block:D<992,onClick:function(){localStorage.setItem("hole",c.number),G.push("/scorecards/".concat(R.scorecardId,"/").concat(R.holeId,"/shot/1"))},children:"Start Hole"}),Object(n.jsx)("br",{}),Object(n.jsx)(x.a,{color:"primary",className:"mt-3",block:D<992,onClick:function(){return G.push("/scorecards/".concat(R.scorecardId,"/overview"))},children:"Finish Round"})]})]}):Object(n.jsxs)("div",{className:"container mt-5",children:[Object(n.jsx)("h1",{children:"Not Found"}),Object(n.jsx)(x.a,{block:D<768,color:"secondary",className:"mt-5",children:Object(n.jsx)(i.b,{style:{color:"white"},to:"/scorecards",children:"Go Back"})})]})},X=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),c=t[0],s=t[1],a=Object(r.useState)([]),o=Object(j.a)(a,2),h=o[0],u=o[1],O=Object(r.useState)({}),p=Object(j.a)(O,2),g=p[0],v=p[1],I=Object(r.useState)([]),N=Object(j.a)(I,2),S=N[0],y=N[1],w=Object(r.useState)([]),k=Object(j.a)(w,2),T=k[0],E=k[1],q=Object(r.useState)([]),D=Object(j.a)(q,2),G=D[0],R=D[1],P=Object(r.useState)(!1),F=Object(j.a)(P,2),L=F[0],Y=F[1],V=Object(r.useContext)(b).getToken,K=Object(r.useState)(!1),X=Object(j.a)(K,2),Z=X[0],_=X[1],$=Object(r.useState)(!1),ee=Object(j.a)($,2),te=ee[0],ce=ee[1],ne=Object(d.i)(),re=z().width,se=Object(d.g)(),ae=JSON.parse(localStorage.getItem("user")).id;Object(r.useEffect)((function(){ne.shotId?(V().then((function(e){return fetch("/api/shot/".concat(ne.shotId),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return 404===e.status&&(f.b.error("That's not your shot"),se.push("/scorecards")),e.json()})).then((function(e){v(e)}))})),_(!1)):(v({qualityOfShotId:0,discId:0,shotRangeId:0,shotTypeId:0,shotSelectionId:0,isObstructed:!1}),_(!1))}),[ne.shotId]),Object(r.useEffect)((function(){V().then((function(e){return fetch("/api/shotRange",{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){s(e)})).then((function(){return fetch("/api/shotType",{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){u(e)}))})).then((function(){return fetch("/api/shotSelection",{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){y(e)}))})).then((function(){return fetch("/api/qualityOfShot",{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){E(e)}))})).then((function(){return fetch("/api/disc/".concat(ae),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){R(e)}))}))}))}),[]);var oe=function(e,t){V().then((function(c){return fetch("/api/shot",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify(e)}).then((function(){if(t)se.push("/scorecards/".concat(ne.scorecardId,"/").concat(ne.holeId,"/overview"));else{var c="4"===e.qualityOfShotId?parseInt(ne.shotNum)+2:parseInt(ne.shotNum)+1;se.push("/scorecards/".concat(ne.scorecardId,"/").concat(ne.holeId,"/shot/").concat(c)),v({qualityOfShotId:0,discId:0,shotRangeId:0,shotTypeId:0,shotSelectionId:0,isObstructed:!1}),_(!1)}}))}))},ie=function(e){var t=Object(l.a)({},g);t[e.target.name]=e.target.value,v(t)},de=function(e){e.preventDefault(),0===parseInt(g.shotTypeId)||0===parseInt(g.shotRangeId)||0===parseInt(g.shotSelectionId)||0===parseInt(g.QualityOfShotId)||0===parseInt(g.DiscId)?f.b.error("Enter a choice for all fields",{position:"top:center"}):(_(!0),ne.shotId?function(e){V().then((function(t){return fetch("/api/shot/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)}).then((function(){return se.push("/scorecards/".concat(ne.scorecardId,"/").concat(ne.holeId,"/overview"))}))}))}({id:g.id,scorecardId:ne.scorecardId,userId:parseInt(ae),holeId:ne.holeId,qualityOfShotId:g.qualityOfShotId,discId:g.discId,shotRangeId:g.shotRangeId,shotTypeId:g.shotTypeId,shotSelectionId:g.shotSelectionId,isObstructed:!L}):oe({scorecardId:ne.scorecardId,userId:parseInt(ae),holeId:ne.holeId,qualityOfShotId:g.qualityOfShotId,discId:g.discId,shotRangeId:g.shotRangeId,shotTypeId:g.shotTypeId,shotSelectionId:g.shotSelectionId,isObstructed:!L},!1))};return(null===g||void 0===g?void 0:g.id)&&(null===g||void 0===g?void 0:g.userId)!==parseInt(ae)?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{children:"This is not your shot to edit"}),Object(n.jsx)(x.a,{children:Object(n.jsx)(i.b,{to:"/scorecards",children:"Go Back"})})]}):Object(n.jsxs)("div",{className:re<768?"container my-5":"container border border-dark my-5 bg-light",style:{minWidth:"20em",maxWidth:"25em"},children:[Object(n.jsx)(i.b,{to:ne.shotId?"/scorecards/".concat(ne.scorecardId,"/").concat(ne.holeId,"/overview"):"/scorecards/".concat(ne.scorecardId,"/").concat(ne.holeId),className:"row d-none d-md-flex",disabled:Z,children:Object(n.jsx)(A.a,{size:"lg",className:"ml-auto mt-1 mr-2 text-secondary cancel",icon:C.h})}),Object(n.jsxs)(B.a,{className:"p-5 mt-n5",onSubmit:de,children:[Object(n.jsxs)("h2",{className:!ne.shotId&&"mt-3",children:["Hole ",JSON.parse(localStorage.getItem("hole"))]}),ne.shotId?Object(n.jsx)("h4",{children:"Edit Shot"}):Object(n.jsxs)("h4",{children:["Shot ",ne.shotNum]}),Object(n.jsxs)(J.a,{row:!0,children:[Object(n.jsx)(W.a,{children:"Range"}),Object(n.jsxs)(m.a,{type:"select",name:"shotRangeId",onChange:ie,required:"required",value:null===g||void 0===g?void 0:g.shotRangeId,children:[Object(n.jsx)("option",{value:"0",hidden:!0,children:"Shot range"}),c.map((function(e){return Object(n.jsx)("option",{value:e.id,children:e.label},e.id)}))]})]}),Object(n.jsxs)(J.a,{row:!0,children:[Object(n.jsx)(W.a,{children:"Type"}),Object(n.jsxs)(m.a,{type:"select",name:"shotTypeId",onChange:ie,required:"required",value:null===g||void 0===g?void 0:g.shotTypeId,children:[Object(n.jsx)("option",{value:"0",hidden:!0,children:"Shot type"}),h.map((function(e){return Object(n.jsx)("option",{value:e.id,children:e.label},e.id)}))]})]}),Object(n.jsxs)(J.a,{row:!0,children:[Object(n.jsx)(W.a,{children:"Selection"}),Object(n.jsxs)(m.a,{type:"select",name:"shotSelectionId",onChange:ie,required:"required",value:null===g||void 0===g?void 0:g.shotSelectionId,children:[Object(n.jsx)("option",{value:"0",hidden:!0,children:"Shot selection"}),S.map((function(e){return Object(n.jsx)("option",{value:e.id,children:e.label},e.id)}))]})]}),Object(n.jsxs)(J.a,{row:!0,children:[Object(n.jsx)(W.a,{children:"Disc"}),Object(n.jsxs)(m.a,{type:"select",name:"discId",onChange:ie,required:"required",value:null===g||void 0===g?void 0:g.discId,children:[Object(n.jsx)("option",{value:"0",hidden:!0,children:"Select a disc"}),G.map((function(e){return Object(n.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(n.jsxs)(J.a,{row:!0,children:[Object(n.jsx)(W.a,{children:"Quality of Shot"}),Object(n.jsxs)(m.a,{type:"select",name:"qualityOfShotId",onChange:ie,required:"required",value:null===g||void 0===g?void 0:g.qualityOfShotId,children:[Object(n.jsx)("option",{value:"0",hidden:!0,children:"Quality of shot"}),T.map((function(e){return Object(n.jsx)("option",{value:e.id,children:e.label},e.id)}))]})]}),Object(n.jsx)(J.a,{check:!0,className:"text-left my-4",children:Object(n.jsxs)(W.a,{check:!0,htmlFor:"isObstructed",children:[Object(n.jsx)(m.a,{type:"checkbox",name:"isObstructed",checked:L,onChange:function(){return Y(!L)}})," ","Obstructed?"]})}),Object(n.jsx)(x.a,{block:!0,type:"submit",className:"mt-3",color:ne.shotId?"danger":"primary",disabled:Z,onClick:de,children:ne.shotId?"Save":"Next Shot"}),Object(n.jsx)("br",{}),!ne.shotId&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(x.a,{block:!0,type:"submit",className:"mt-3",color:"danger",disabled:Z,onClick:function(e){e.preventDefault(),0===parseInt(g.shotTypeId)||0===parseInt(g.shotRangeId)||0===parseInt(g.shotSelectionId)||0===parseInt(g.QualityOfShotId)||0===parseInt(g.DiscId)?f.b.error("Enter a choice for all fields",{position:"top:center"}):(_(!0),oe({scorecardId:ne.scorecardId,userId:parseInt(ae),holeId:ne.holeId,qualityOfShotId:g.qualityOfShotId,discId:g.discId,shotRangeId:g.shotRangeId,shotTypeId:g.shotTypeId,shotSelectionId:g.shotSelectionId,isObstructed:!L},!0))},children:"Complete Hole"}),Object(n.jsx)("br",{})]}),1!==ne.shotNum&&Object(n.jsx)(x.a,{block:!0,onClick:function(e){return ce(!0)},className:"mt-3",color:"dark",disabled:Z,children:"Delete"})]}),Object(n.jsxs)(U.a,{isOpen:te,children:[Object(n.jsx)(H.a,{children:"Delete Shot?"}),Object(n.jsx)(M.a,{children:"Are you sure you want to delete this shot? This action cannot be undone."}),Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(x.a,{outline:!0,onClick:function(e){return ce(!1)},children:"No, Cancel"}),Object(n.jsx)(x.a,{color:"dark",onClick:function(){V().then((function(e){return fetch("/api/shot/".concat(g.id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e)}}).then((function(){return se.push("/scorecards/".concat(ne.scorecardId,"/").concat(ne.holeId,"/overview"))}))})),ce(!1)},children:"Yes, Delete"})]})]})]})},Z=function(e){var t=e.shot,c=e.shotNumber,r=e.params,s=e.hole;return Object(n.jsx)(i.b,{to:"/scorecards/".concat(r.scorecardId,"/").concat(r.holeId,"/").concat(t.id),className:"card-link",onClick:function(){return localStorage.setItem("hole",s.number)},children:Object(n.jsxs)(y.a,{className:"bg-light shot-card",children:[Object(n.jsx)("h5",{className:"card-header",children:Object(n.jsxs)("strong",{children:["Shot ",c]})}),Object(n.jsxs)("div",{className:"row col-12 py-3 card-body",children:[Object(n.jsxs)("p",{className:"text-left ml-3",children:[Object(n.jsx)("strong",{children:"Range:"})," ",t.shotRange.label]}),Object(n.jsxs)("p",{className:"text-left ml-3",children:[Object(n.jsx)("strong",{children:"Type:"})," ",t.shotType.label]}),Object(n.jsxs)("p",{className:"text-left ml-3",children:[Object(n.jsx)("strong",{children:"Selection:"})," ",t.shotSelection.label]}),Object(n.jsxs)("p",{className:"text-left ml-3",children:[Object(n.jsx)("strong",{children:"Disc:"})," ",t.disc.name]}),Object(n.jsxs)("p",{className:"text-left ml-3",children:[Object(n.jsx)("strong",{children:"Obstructed:"})," ",t.isObstructed?"Yes":"No"]}),Object(n.jsxs)("p",{className:"text-left ml-3",children:[Object(n.jsx)("strong",{children:"Quality:"})," ",t.qualityOfShot.label]})]})]})})},_=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),c=t[0],s=t[1],a=Object(r.useState)([]),o=Object(j.a)(a,2),i=o[0],l=o[1],h=Object(r.useContext)(b).getToken,u=z().width,O=Object(d.g)(),f=Object(d.i)();Object(r.useEffect)((function(){h().then((function(e){return fetch("/api/hole/".concat(f.holeId),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){s(e)}))}))}),[]),Object(r.useEffect)((function(){c&&h().then((function(e){return fetch("/api/shot/hole/".concat(f.holeId,"/").concat(f.scorecardId),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){l(e)}))}))}),[c]);var m=function(){return i.length+i.filter((function(e){return 4===e.qualityOfShotId})).length+1};return Object(n.jsxs)("div",{className:"container mt-4 mb-5",children:[Object(n.jsxs)("h3",{className:"mt-3",children:["Hole ",c.number," Overview"]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("p",{className:"text-left",children:[Object(n.jsx)("strong",{children:"Total strokes:"})," ",i.length+i.filter((function(e){return 4===e.qualityOfShotId})).length]}),Object(n.jsxs)("p",{className:"text-left",children:[Object(n.jsx)("strong",{children:"Penalty strokes:"})," ",i.filter((function(e){return 4===e.qualityOfShotId})).length]})]}),Object(n.jsx)("div",{className:"row justify-content-center",children:i.map((function(e,t){return Object(n.jsx)("div",{className:"m-4 w-100",children:Object(n.jsx)(Z,{shot:e,shotNumber:t+1,hole:c,params:f})},e.id)}))}),Object(n.jsx)(x.a,{color:"secondary",className:"my-4",block:u<768,onClick:function(){localStorage.setItem("hole",c.number),O.push("/scorecards/".concat(f.scorecardId,"/").concat(parseInt(f.holeId),"/shot/").concat(m()))},children:"Add Shot"}),Object(n.jsx)("hr",{}),18!==c.number&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(x.a,{color:"danger",className:"mt-3",block:u<768,onClick:function(){return O.push("/scorecards/".concat(f.scorecardId,"/").concat(parseInt(f.holeId)+1))},children:"Next Hole"}),Object(n.jsx)("br",{})]}),Object(n.jsx)(x.a,{color:"primary",block:u<768,className:"mt-3",onClick:function(){return O.push("/scorecards/".concat(f.scorecardId,"/overview"))},children:"Finish Round"})]})},$=function(e){var t=e.hole,c=e.params,r=e.strokes,s=r-t.par;return Object(n.jsx)(i.b,{to:r>0?"/scorecards/".concat(c.scorecardId,"/").concat(t.id,"/overview/edit"):"/scorecards/".concat(c.scorecardId,"/").concat(t.id),className:"card-link",children:Object(n.jsxs)(y.a,{className:"bg-light hole-card mobile-card",children:[Object(n.jsx)("h5",{className:"card-header",children:Object(n.jsxs)("strong",{children:["Hole ",t.number]})}),Object(n.jsxs)("div",{className:"col-12 py-3 card-body",children:[r>0&&Object(n.jsxs)("p",{className:"text-left ml-3",children:[Object(n.jsx)("strong",{children:"Score:"})," ",s<0?s:0===s?"E":"+".concat(s)]}),Object(n.jsxs)("p",{className:"text-left ml-3",children:[Object(n.jsx)("strong",{children:"Par:"})," ",t.par]}),Object(n.jsxs)("p",{className:"text-left ml-3",children:[Object(n.jsx)("strong",{children:"Total strokes:"})," ",r>0?r:"N/A"]})]})]})})},ee=function(){var e=Object(r.useState)(),t=Object(j.a)(e,2),c=t[0],s=t[1],a=Object(r.useState)([]),o=Object(j.a)(a,2),i=o[0],l=o[1],h=Object(r.useState)([]),u=Object(j.a)(h,2),O=u[0],f=u[1],m=Object(r.useState)(),p=Object(j.a)(m,2),g=p[0],v=p[1],I=Object(r.useState)(!1),N=Object(j.a)(I,2),S=N[0],y=N[1],w=Object(d.i)(),T=Object(d.g)(),E=z().width,C=Object(r.useContext)(b).getToken;Object(r.useEffect)((function(){C().then((function(e){return fetch("/api/scorecard/".concat(w.scorecardId),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){s(e)}))}))}),[]),Object(r.useEffect)((function(){c&&C().then((function(e){return fetch("/api/hole/course/".concat(c.courseId),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){l(e)})).then((function(){return fetch("/api/shot/scorecard/".concat(c.id),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){f(e)}))}))}))}),[c]),Object(r.useEffect)((function(){if(O.length){var e=k(O,"holeId"),t=0;e.forEach((function(e){if(e.length){var c=e.filter((function(e){return 4===e.qualityOfShotId})).length,n=e.length+c;t=t+n-e[0].hole.par}})),v(t)}}),[O]);return Object(n.jsxs)("div",{className:"container mt-4 mb-5",children:[Object(n.jsx)("h3",{children:"Round Overview"}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("p",{className:"text-left",children:[Object(n.jsx)("strong",{children:"Course:"})," ",null===c||void 0===c?void 0:c.course.name]}),Object(n.jsxs)("p",{className:"text-left",children:[Object(n.jsx)("strong",{children:"Total Score:"})," ",g?g<0?g:0===g?"E":"+".concat(g):"N/A"]})]}),Object(n.jsx)("div",{className:"row justify-content-center",children:O.length>0&&i.map((function(e){var t=O.filter((function(t){return t.holeId===e.id})),c=t.filter((function(e){return 4===e.qualityOfShotId})).length,r=t.length+c;return Object(n.jsx)("div",{className:"m-4",children:Object(n.jsx)($,{hole:e,strokes:r,params:w})},e.id)}))}),Object(n.jsx)(x.a,{color:"danger",className:"mt-3",block:E<992,onClick:function(){return T.push("/scorecards")},children:"Save Round"}),Object(n.jsx)("br",{}),Object(n.jsx)(x.a,{color:"dark",className:"mt-3",block:E<992,onClick:function(){return y(!0)},children:"Delete Scorecard"}),Object(n.jsxs)(U.a,{isOpen:S,children:[Object(n.jsx)(H.a,{children:"Delete Scorecard?"}),Object(n.jsx)(M.a,{children:"Are you sure you want to delete this scorecard? This action cannot be undone."}),Object(n.jsxs)(Q.a,{children:[Object(n.jsx)(x.a,{outline:!0,onClick:function(e){return y(!1)},children:"No, Cancel"}),Object(n.jsx)(x.a,{color:"dark",onClick:function(){C().then((function(e){return fetch("/api/scorecard/".concat(w.scorecardId),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e)}}).then((function(){return T.push("/scorecards")}))})),y(!1)},children:"Yes, Delete"})]})]})]})},te=function(){var e=Object(r.useContext)(b).isLoggedIn;return Object(n.jsxs)(d.d,{children:[Object(n.jsx)(d.b,{path:"/",exact:!0,children:e?Object(n.jsx)(T,{}):Object(n.jsx)(d.a,{to:"/login"})}),Object(n.jsx)(d.b,{path:"/courses",exact:!0,children:e?Object(n.jsx)(G,{}):Object(n.jsx)(d.a,{to:"/login"})}),Object(n.jsx)(d.b,{path:"/courses/:courseId(\\d+)",exact:!0,children:e?Object(n.jsx)(V,{}):Object(n.jsx)(d.a,{to:"/login"})}),Object(n.jsx)(d.b,{path:"/discs",exact:!0,children:e?Object(n.jsx)(F,{}):Object(n.jsx)(d.a,{to:"/login"})}),Object(n.jsx)(d.b,{path:"/discs/add",exact:!0,children:e?Object(n.jsx)(Y,{}):Object(n.jsx)(d.a,{to:"/login"})}),Object(n.jsx)(d.b,{path:"/discs/edit/:discId(\\d+)",exact:!0,children:e?Object(n.jsx)(Y,{}):Object(n.jsx)(d.a,{to:"/login"})}),Object(n.jsx)(d.b,{path:"/scorecards",exact:!0,children:e?Object(n.jsx)(L,{}):Object(n.jsx)(d.a,{to:"/login"})}),Object(n.jsx)(d.b,{path:"/scorecards/courses",exact:!0,children:e?Object(n.jsx)(G,{}):Object(n.jsx)(d.a,{to:"/login"})}),Object(n.jsx)(d.b,{path:"/scorecards/courses/:courseId(\\d+)",exact:!0,children:e?Object(n.jsx)(V,{}):Object(n.jsx)(d.a,{to:"/login"})}),Object(n.jsx)(d.b,{path:"/scorecards/:scorecardId(\\d+)/:holeId(\\d+)",exact:!0,children:e?Object(n.jsx)(K,{}):Object(n.jsx)(d.a,{to:"/login"})}),Object(n.jsx)(d.b,{path:"/scorecards/:scorecardId(\\d+)/:holeId(\\d+)/shot/:shotNum(\\d+)",exact:!0,children:e?Object(n.jsx)(X,{}):Object(n.jsx)(d.a,{to:"/login"})}),Object(n.jsx)(d.b,{path:"/scorecards/:scorecardId(\\d+)/:holeId(\\d+)/:shotId(\\d+)",exact:!0,children:e?Object(n.jsx)(X,{}):Object(n.jsx)(d.a,{to:"/login"})}),Object(n.jsx)(d.b,{path:"/scorecards/:scorecardId(\\d+)/:holeId(\\d+)/overview",exact:!0,children:e?Object(n.jsx)(_,{}):Object(n.jsx)(d.a,{to:"/login"})}),Object(n.jsx)(d.b,{path:"/scorecards/:scorecardId(\\d+)/:holeId(\\d+)/overview/edit",exact:!0,children:e?Object(n.jsx)(_,{}):Object(n.jsx)(d.a,{to:"/login"})}),Object(n.jsx)(d.b,{path:"/scorecards/:scorecardId(\\d+)/overview",exact:!0,children:e?Object(n.jsx)(ee,{}):Object(n.jsx)(d.a,{to:"/login"})}),Object(n.jsx)(d.b,{path:"/scorecards/:scorecardId(\\d+)/overview/edit",exact:!0,children:e?Object(n.jsx)(ee,{}):Object(n.jsx)(d.a,{to:"/login"})}),Object(n.jsx)(d.b,{path:"/login",children:Object(n.jsx)(p,{})}),Object(n.jsx)(d.b,{path:"/register",children:Object(n.jsx)(g,{})})]})},ce=c(80),ne=c(81),re=c(82),se=c(83),ae=c(84),oe=[{route:"/",icon:C.d,label:"Home"},{route:"/scorecards",icon:C.g,label:"Scorecards"},{route:"/courses",icon:C.c,label:"Courses"},{route:"/discs",icon:C.b,label:"Discs"}],ie=function(){var e=Object(r.useContext)(b),t=e.getCurrentUser,c=e.logout,s=t(),a=Object(d.g)(),o=Object(d.h)(),l=function(){return c().then((function(){f.b.dark("You are now logged out"),a.push("/login")}))};return Object(n.jsxs)("div",{children:[Object(n.jsxs)(ce.a,{className:"navbar-dark fixed-top bg-primary d-flex justify-content-center justify-content-lg-start",expand:"md",children:[s&&o.pathname.startsWith("/discs/")&&Object(n.jsx)(ne.a,{className:"mr-auto d-flex d-md-none",navbar:!0,children:Object(n.jsx)(re.a,{children:Object(n.jsx)(se.a,{onClick:function(){return a.push("/discs")},children:"Cancel"})})}),s&&"/scorecards/courses"===o.pathname&&Object(n.jsx)(ne.a,{className:"mr-auto d-flex d-md-none",navbar:!0,children:Object(n.jsx)(re.a,{children:Object(n.jsx)(se.a,{onClick:function(){return a.push("/scorecards")},children:"Cancel"})})}),s&&o.pathname.includes("/courses/")&&Object(n.jsx)(ne.a,{className:"mr-auto d-flex d-md-none",navbar:!0,children:Object(n.jsx)(re.a,{children:Object(n.jsx)(se.a,{onClick:function(){o.pathname.startsWith("/scorecards")?a.push("/scorecards/courses"):a.push("/courses")},children:"Back"})})}),Object(n.jsxs)(ae.a,{tag:i.b,to:"/",children:[Object(n.jsx)("img",{id:"header-logo",src:"/disc-logo.png",width:"30",height:"30",className:"mr-1",alt:"Disc Stats Logo"}),"Disc Stats"]}),Object(n.jsx)(ne.a,{className:"d-lg-flex d-none w-100",navbar:!0,children:s?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(re.a,{children:Object(n.jsx)(se.a,{to:"/scorecards",tag:i.b,children:"Scorecards"})}),Object(n.jsx)(re.a,{children:Object(n.jsx)(se.a,{to:"/courses",tag:i.b,children:"Courses"})}),Object(n.jsx)(re.a,{children:Object(n.jsx)(se.a,{to:"/discs",tag:i.b,children:"Discs"})}),Object(n.jsx)(re.a,{className:"ml-auto",children:Object(n.jsx)(se.a,{onClick:l,children:"Logout"})})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(re.a,{children:Object(n.jsx)(se.a,{to:"/login",tag:i.b,children:"Login"})}),Object(n.jsx)(re.a,{children:Object(n.jsx)(se.a,{to:"/register",tag:i.b,children:"Register"})})]})}),s&&"/"===o.pathname&&Object(n.jsx)(ne.a,{className:"ml-auto mr-3 d-lg-none d-flex",navbar:!0,children:Object(n.jsx)(re.a,{children:Object(n.jsx)(se.a,{onClick:l,children:Object(n.jsxs)("div",{className:"row d-flex flex-column justify-content-center align-items-center",children:[Object(n.jsx)(A.a,{size:"lg",icon:C.f}),Object(n.jsx)("div",{className:"bottom-tab-label",children:"Logout"})]})})})})]}),s&&Object(n.jsx)(ce.a,{className:"fixed-bottom navbar-light bg-light d-block d-lg-none",children:Object(n.jsx)(ne.a,{className:"d-flex flex-row justify-content-around w-100",navbar:!0,children:oe.map((function(e,t){return Object(n.jsx)(re.a,{children:Object(n.jsx)(se.a,{to:e.route,tag:i.b,children:Object(n.jsxs)("div",{className:"row d-flex flex-column justify-content-center align-items-center",children:[Object(n.jsx)(A.a,{size:"lg",icon:e.icon}),Object(n.jsx)("div",{className:"bottom-tab-label",children:e.label})]})})},"tab-".concat(t))}))})})]})};c(66),c(67);var de=function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(f.a,{closeOnClick:!0,autoClose:3e3,position:"bottom-right",hideProgressBar:!0}),Object(n.jsx)(O,{children:Object(n.jsxs)(i.a,{children:[Object(n.jsx)(ie,{}),Object(n.jsx)(te,{})]})})]})},le=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,86)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),s(e),a(e)}))};c(68);u.a.initializeApp({apiKey:"AIzaSyBXdPMW1SxoOtGCvqMXdAmvKjopq_UWiQw"}),o.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(de,{})}),document.getElementById("root")),le()}},[[69,1,2]]]);
//# sourceMappingURL=main.c41ad116.chunk.js.map